here<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>AEGIS V36 – RANGE OTC (PRO)</title>
<style>
:root {
  --bg:#050505; --gold:#ffcc00; --win:#00ff88; --loss:#ff0044;
}
body {
  background:var(--bg); color:white; font-family:Arial;
  display:flex; justify-content:center; padding:20px;
}
.box {
  width:360px; background:#0a0a0a; padding:20px; border-radius:20px;
  border:1px solid #222;
}
h1 { text-align:center; color:var(--gold); }
input, button {
  width:100%; padding:10px; margin-top:10px;
  border-radius:10px; border:none;
}
button { font-weight:bold; cursor:pointer; }
.signal {
  margin-top:20px; font-size:40px; text-align:center;
}
.log {
  font-size:11px; color:#aaa; margin-top:15px;
  max-height:100px; overflow:auto;
}
</style>
</head>

<body>
<div class="box">
<h1>AEGIS – RANGE OTC</h1>

<input id="price" type="number" step="0.00001" placeholder="Prix M1 (close)">
<button onclick="addPrice()">Ajouter bougie</button>

<button onclick="analyze()">Analyser marché</button>

<div class="signal" id="signal">—</div>
<div class="log" id="log"></div>
</div>

<script>
let prices = [];
const MAX = 20; // 20 bougies M1

function addPrice() {
  const p = parseFloat(document.getElementById("price").value);
  if (!p) return;
  prices.push(p);
  if (prices.length > MAX) prices.shift();
  log(`Bougie ajoutée : ${p}`);
}

function analyze() {
  if (prices.length < MAX) {
    log("Pas assez de données (20 bougies requises)");
    return;
  }

  const high = Math.max(...prices);
  const low = Math.min(...prices);
  const last = prices[prices.length - 1];
  const range = high - low;

  // filtre range OTC (très important)
  if (range < 0.0003) {
    log("Marché trop plat → NO TRADE");
    show("NO TRADE", "#666");
    return;
  }

  // seuils de rejet
  const topZone = high - range * 0.15;
  const botZone = low + range * 0.15;

  if (last >= topZone) {
    show("PUT", "var(--loss)");
    log("Rejet haut de range détecté → PUT 60s");
  }
  else if (last <= botZone) {
    show("CALL", "var(--win)");
    log("Rejet bas de range détecté → CALL 60s");
  }
  else {
    show("NO TRADE", "#666");
    log("Prix au milieu du range → patience");
  }
}

function show(txt, color) {
  const s = document.getElementById("signal");
  s.innerText = txt;
  s.style.color = color;
}

function log(t) {
  const l = document.getElementById("log");
  l.innerHTML = "> " + t + "<br>" + l.innerHTML;
}
</script>
</body>
</html>
