<script>
let balance = 10.00;
const target = 1000;
let locked = false;

function startHFTScan() {
    if (locked) return;
    locked = true;

    const btn = document.getElementById('hft-btn');
    const scan = document.getElementById('hft-scan');
    const res = document.getElementById('hft-result');
    const idle = document.getElementById('hft-idle');
    const sig = document.getElementById('sig-val');
    const box = document.getElementById('box');
    const logs = document.getElementById('logs');
    const expText = document.getElementById('exp-timer');

    btn.disabled = true;
    idle.style.display = 'none';
    res.style.display = 'none';
    scan.style.display = 'block';
    box.style.animation = "none";

    let ms = 2;
    const msInt = setInterval(() => {
        ms += Math.random() * 3;
        if (ms > 45) ms = 45;
        document.getElementById('ms-counter').innerText = ms.toFixed(2) + " ms";
        document.getElementById('v-val').innerText = ms.toFixed(1) + " MS";
    }, 40);

    setTimeout(() => {
        clearInterval(msInt);

        const direction = Math.random() > 0.5 ? "CALL" : "PUT";
        const win = Math.random() > 0.35; // 65% winrate

        scan.style.display = 'none';
        res.style.display = 'block';
        sig.innerText = direction;

        const color = win ? "var(--win)" : "var(--loss)";
        sig.style.color = color;
        box.style.borderColor = color;
        box.style.animation = win ? "pulse-win 2s infinite" : "pulse-loss 2s infinite";

        let timeLeft = 60;
        expText.innerText = timeLeft + "s";
        const expInt = setInterval(() => {
            timeLeft--;
            expText.innerText = timeLeft + "s";
            if (timeLeft <= 0) clearInterval(expInt);
        }, 1000);

        let result;
        if (win) {
            const profit = +(balance * 0.15).toFixed(2);
            balance += profit;
            result = `+${profit}$`;
        } else {
            const loss = +(balance * 0.08).toFixed(2);
            balance -= loss;
            result = `-${loss}$`;
        }

        document.getElementById('balance').innerText = balance.toFixed(2) + "$";
        document.getElementById('progress-fill').style.width =
            Math.min((balance / target) * 100, 100) + "%";

        logs.innerHTML =
            `> <span style="color:${win ? 'var(--win)' : 'var(--loss)'}">[M-AI]</span> ${direction} 60s (${result})<br>` +
            logs.innerHTML;

        let cd = 5;
        const cooldownInt = setInterval(() => {
            btn.innerText = `COOLDOWN (${cd}s)`;
            cd--;
            if (cd < 0) {
                clearInterval(cooldownInt);
                btn.disabled = false;
                btn.innerText = "SNIPE MOMENTUM";
                locked = false;
            }
        }, 1000);

    }, 3000);
}
                              </script>
